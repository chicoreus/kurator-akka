imports:

- classpath:/org/kurator/akka/types.yaml

components:

- id: MultiplyByTwoWorkflow
  type: Workflow
  properties:
    actors:
      - !ref ReadOneNumber
      - !ref MultiplyByThree
      - !ref PrintProduct

- id: ReadOneNumber
  type: PythonFunctionActor
  properties:
    trigger: true
    code: |
      import sys
      def readnum():
          print "Enter a number:"
          line = sys.stdin.readline()
          n = float(line.strip())
          return n
    function: readnum

- id: MultiplyByThree
  type: PythonFunctionActor
  properties:
    code: |
      def triple(n):
        return 3 * n
    function: triple
    listensTo:
      - !ref ReadOneNumber

- id: PrintProduct
  type: PythonFunctionActor
  properties:
    code: |
      def printnum(n):
        print n
    function: printnum
    listensTo:
      - !ref MultiplyByThree
