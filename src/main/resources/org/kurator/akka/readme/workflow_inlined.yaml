imports:

- classpath:/org/kurator/akka/types.yaml

components:

- id: MultiplyByTwoWorkflow
  type: Workflow
  properties:
    actors:
      - !ref ReadOneNumber
      - !ref MultiplyByThree
      - !ref PrintProduct

- id: ReadOneNumber
  type: PythonFunctionActor
  properties:
    trigger: true
    parameters:
      function: readnum
      code: |
        import sys
        def readnum():
          print "Enter a number:"
          line = sys.stdin.readline()
          n = float(line.strip())
          return n

- id: MultiplyByThree
  type: PythonFunctionActor
  properties:
    listensTo:
      - !ref ReadOneNumber
    parameters:
      function: triple
      code: |
        def triple(n):
          return 3 * n

- id: PrintProduct
  type: PythonFunctionActor
  properties:
    listensTo:
      - !ref MultiplyByThree
    parameters:
      function: printnum
      code: |
        def printnum(n):
          print n
